<html>

<head>

<title>공 이미지</title>

<script language="javascript">

        orienth = "left";             //left or right // 공의 현재 움직이는 방향값을 입력할 변수

        orientv = "over";             //over or under

 

        todis = 3;                    //공이 한번에 움직일 거리

 

        function gogo(){

 

                mytop = ball.style.top;               //현재 공의 Y위치

                myleft = ball.style.left;              //공의 X위치

 

                mytop = mytop.substr(0, mytop.length - 2);           //넘겨받은 값에 “px”를 지우기 위해 substr

                myleft = myleft.substr(0, myleft.length - 2);

 

                myheight = ball.height;                      // 공이미지의 가로와 세로 길이를 구함

                mywidth = ball.width;

                maxposy = document.body.clientHeight; // 브라우저의 가로와 세로 길이를 구함

                maxposx = document.body.clientWidth;

 

                mytext.value = mytop + " / " + maxposy;

                yourtext.value = myleft + " / " + maxposx;

 

                if(orientv == "over"){                // 공의 방향이 위쪽이면

                       if(mytop >= 0 && mytop < todis)       // 공이 한번에 움직일 거리보다 벽에 가까이 있으면

                       {

                               curtop = 0;                   // 벽에 붙이고 아랫쪽으로 움직이게 한다.

                               orientv = "under";

                       }

                       else{

                               curtop = mytop - todis;       // 아니면 공을 정해진 거리만큼 움직인다.

                       }

                }

                else {                                       // 공의 방향이 아랫쪽이면

                              // 공이 브라우저에서 높이를 뺀거리 보다 가까이 있으면

                       if(mytop <= maxposy - myheight && mytop > maxposy - myheight - todis){

                               curtop = maxposy - myheight;  // 공을 벽에 붙이고

                               orientv = "over";             // 위로 움직이게 한다.

                       }

                       else{   // 아니면 거리만큼 이미지를 이동시킨다.

                               curtop = Number(mytop) + Number(todis);

                       }

                }

 

                if(orienth == "left"){                // 공의 방향이 왼쪽이면

                       if(myleft >= 0 && myleft < todis)     // 공의 위치가 0이거나 todis보다 작을경우

                       {

                               curleft = 0;                  // 공을 벽에 붙이고

                               orienth = "right";            // 방향을 오른쪽으로 바꾼다.

                       }

                       else{                                 // 아닐경우

                               curleft = myleft - todis;     // 공을 todis만큼 이동시킨다.

                       }

                }

                else {  //공의 방향이 오른쪽일경우

                                               //공이 벽에서 이미지의 높이를 뺀것보다 벽에 더 가까울경우

                       if(myleft <= maxposx - mywidth && myleft > maxposx - mywidth - todis){

                               curleft = maxposx - mywidth;  // 공을 벽에 붙이고

                               orienth = "left";             // 방향을 왼쪽으로 바꾼다.

                       }

                       else{   // 아니라면 공을 todis만큼 이동시킨다.

                               curleft = Number(myleft) + Number(todis);

                       }

                }

                ball.style.posTop = curtop;                 // 계산된 결과를 이미지의 좌표에 반영한다.

                   ball.style.posLeft = curleft;

 

        }

        function myloading(){                                // 이미지를 이동시키는 함수를 0.5초에 한번씩 실행시킨다.

                   setInterval(gogo, 50);

        }

               

</script>

</head>

 

<body onload="myloading()">

imagesX / maxX : <input type="text" value="" id="mytext"><br>

imagesY / maxY : <input type="text" value="" id="yourtext">

<img src="images/ball2.jpg" id="ball" style="position:absolute; top:200; left:800">

</body>

</html>